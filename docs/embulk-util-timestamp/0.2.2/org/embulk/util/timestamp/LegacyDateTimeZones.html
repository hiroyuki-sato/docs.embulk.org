<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LegacyDateTimeZones (embulk-util-timestamp v0.2.2)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LegacyDateTimeZones (embulk-util-timestamp v0.2.2)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="../../../../org/embulk/util/timestamp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/embulk/util/timestamp/TimestampFormatter.html" title="class in org.embulk.util.timestamp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/embulk/util/timestamp/LegacyDateTimeZones.html" target="_top">Frames</a></li>
<li><a href="LegacyDateTimeZones.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.embulk.util.timestamp</div>
<h2 title="Class LegacyDateTimeZones" class="title">Class LegacyDateTimeZones</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.embulk.util.timestamp.LegacyDateTimeZones</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">LegacyDateTimeZones</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class contains a <code>static</code> method to interpret a timezone string
 in the historical manner of legacy Embulk.

 <h3>American timezones</h3>

 <p>Legacy Embulk's <code>org.embulk.spi.time.TimestampParser</code> starts interpreting a timezone
 string from Joda-Time's <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html?is-external=true" title="class or interface in org.joda.time.format"><code>DateTimeFormat</code></a> like below. It was before
 straightforward <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html?is-external=true#forID-java.lang.String-" title="class or interface in org.joda.time"><code>DateTimeZone#forID</code></a>
 and <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html?is-external=true#getAvailableIDs--" title="class or interface in org.joda.time"><code>DateTimeZone#getAvailableIDs</code></a>.

 <pre><code> DateTimeFormat.forPattern("z").parseMillis("PDT")</code></pre>

 <p>It had been in Embulk since
 <a href="https://github.com/embulk/embulk/commit/b97954a5c78397e1269bbb6979d6225dfceb4e05#diff-68c6408e7c936d783784945d87fb251bR49">
 <code>v0.1.0</code></a> until
 <a href="https://github.com/embulk/embulk/blob/v0.8.20/embulk-core/src/main/java/org/embulk/spi/time/TimestampFormat.java#L40-L70">
 <code>v0.8.20</code></a>. <a href="https://github.com/embulk/embulk/issues/860">GitHub Issue #860</a>
 describes the details.

 <p>It unfortunately caused some wrong conversions for some American timezones: <code>"EST"</code>,
 <code>"EDT"</code>, <code>"CST"</code>, <code>"CDT"</code>, <code>"MST"</code>, <code>"MDT"</code>, <code>"PST"</code>, and
 <code>"PDT"</code>. For example, <code>"PDT"</code> should be recognized as <code>"-07:00"</code> because
 <code>"PDT"</code> was a daylight saving time. But, <code>"PDT"</code> was actually recognized as
 <code>"-08:00"</code> along with <code>"PST"</code>.

 <p>It was because <code>"PDT"</code> and <code>"PST"</code> were aliases of <code>"America/Los_Angeles"</code>
 in Joda-Time, not aliases of a fixed offset. Joda-Time originally intends to recognize both
 <code>"PDT"</code> and <code>"PST"</code> to be aligned with the date-time with the timezone. For example,
 <code>"2017-08-20 12:34:56 PST"</code> goes to <code>"2017-08-20 12:34:56 America/Los_Angeles"</code>,
 and this <code>"America/Los_Angeles"</code> is recognized as <code>"-07:00"</code> because the date was
 in the daylight saving time. Same for <code>"2017-08-20 12:34:56 PDT"</code>. This <code>"PDT"</code> is
 eventually recognized as the same <code>"-07:00"</code> because of the date as well.

 <p>However, <code>DateTimeFormat.forPattern("z").parseMillis("PDT")</code> was always converted to
 <code>"-08:00"</code> because the string, only <code>"PDT"</code>, does not have any date information.
 Legacy Embulk never recognized <code>"PDT"</code> as <code>"-07:00"</code> even for summer as a result.

 <p>JFYI, the set of special timezones comes from
 <a href="https://github.com/JodaOrg/joda-time/blob/v2.9.2/src/main/java/org/joda/time/DateTimeUtils.java#L432-L448">
 <code>DateTimeUtils#buildDefaultTimeZoneNames</code></a>.

 <h3>"HST" and "ROC"</h3>

 <p>Embulk replaced Joda-Time into <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html?is-external=true">Java Date and Time API</a> when upgraded
 to Embulk v0.9. It started to use <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true#of-java.lang.String-java.util.Map-" title="class or interface in java.time"><code>ZoneId.of</code></a>
 instead of <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html?is-external=true#forID-java.lang.String-" title="class or interface in org.joda.time"><code>DateTimeZone.forId</code></a> at that time.

 <p><a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true#of-java.lang.String-" title="class or interface in java.time"><code>ZoneId.of(String)</code></a> does not recognize <code>"HST"</code> nor <code>"ROC"</code> that
 are recognized by <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html?is-external=true#forID-java.lang.String-" title="class or interface in org.joda.time"><code>DateTimeZone.forID(String)</code></a>.

 <p>Available timezones in Joda-Time are described in
 <a href="http://joda-time.sourceforge.net/timezones.html">
 Joda-Time - Java date and time API - Time Zones</a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeUtils.html?is-external=true#getDefaultTimeZoneNames--" title="class or interface in org.joda.time"><code>DateTimeUtils.getDefaultTimeZoneNames()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true" title="class or interface in java.time">ZoneId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/embulk/util/timestamp/LegacyDateTimeZones.html#toZoneId-java.lang.String-">toZoneId</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;zoneName)</code>
<div class="block">Converts a timezone string to <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true" title="class or interface in java.time"><code>ZoneId</code></a> in legacy Embulk's manner.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toZoneId-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toZoneId</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true" title="class or interface in java.time">ZoneId</a>&nbsp;toZoneId(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;zoneName)</pre>
<div class="block">Converts a timezone string to <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true" title="class or interface in java.time"><code>ZoneId</code></a> in legacy Embulk's manner.

 <p>It recognizes a timezone string in the following priority.

 <ol>
 <li><code>"Z"</code> is always recognized as UTC in the highest priority.
 <li>Some special timezone strings are recognized by
 <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true#of-java.lang.String-java.util.Map-" title="class or interface in java.time"><code>ZoneId.of(String, Map)</code></a>
 with a predefined alias map like below for legacy historical reasons.
 <ul>
 <li><code>"EST"</code> is recognized as <code>"-05:00"</code>.
 <li><code>"EDT"</code> is recognized as <code>"-05:00"</code>, too.
 <li><code>"CST"</code> is recognized as <code>"-06:00"</code>.
 <li><code>"CDT"</code> is recognized as <code>"-06:00"</code>, too.
 <li><code>"MST"</code> is recognized as <code>"-07:00"</code>.
 <li><code>"MDT"</code> is recognized as <code>"-07:00"</code>, too.
 <li><code>"PST"</code> is recognized as <code>"-08:00"</code>.
 <li><code>"PDT"</code> is recognized as <code>"-08:00"</code>, too.
 <li><code>"HST"</code> is recognized as <code>"-10:00"</code>.
 <li><code>"ROC"</code> is recognized as the same as <code>"Asia/Taipei"</code>.
 </ul>
 <li>Otherwise, the given timezone string is recognized as Ruby-compatible zone tab.
 <li>If none of the above rules does not recognize the given timezone string, it returns <code>null</code>.
 </ol>

 <p>Some of its time offset transition (e.g. daylight saving time) can be different from
 Embulk's actual historical transitions. But, the difference comes from their tz database
 version difference. The difference should be acceptable as users should expect tz database
 can be updated anytime.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>zoneName</code> - a timezone string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html?is-external=true" title="class or interface in java.time"><code>ZoneId</code></a> converted</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="../../../../org/embulk/util/timestamp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/embulk/util/timestamp/TimestampFormatter.html" title="class in org.embulk.util.timestamp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/embulk/util/timestamp/LegacyDateTimeZones.html" target="_top">Frames</a></li>
<li><a href="LegacyDateTimeZones.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
